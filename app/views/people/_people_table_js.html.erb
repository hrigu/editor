<script language="javascript" type="text/javascript">
  $(document).on("turbolinks:load", function () {

    $('#people_table').bootstrapTable({
      url: 'people.json',
      sortName: 's_n',
      pagination: true,
      sidePagination: 'server',
      pageSize: 20, // TODO gr√∂sser, ist 5 zum Testen
      //search: true,
      filterControl: true,
      columns: [
        {
          field: 's_n',
          title: 'SN',
          sortable: true,
          filterControl: "input"
        }, {
          field: 'register_number',
          title: 'Register Number',
          sortable: true,
          filterControl: "input"
        }, {
          field: 'first_name',
          title: 'First name',
          sortable: true,
          filterControl: "input"
        }, {
          field: 'family_name',
          title: 'Family name',
          sortable: true,
          filterControl: "input"
        }, {
          field: 'contact_persons',
          title: 'Contact'
        }, {
          field: 'lawyer',
          title: 'Lawyer',
          sortable: true,
          filterControl: "select",
          filterData: "url:people/lawyers.json"
        }, {
          field: 'created_at',
          title: 'Created At'
        }, {
          field: 'comments_count',
          title: 'Comments',
          sortable: true,
          formatter: function(value, row, index) {
            if(value == null){
              value = 0;
            }
            return "<span class='badge'>"+value+"</span>"
          }
        }, {
          field: 'id',
          title: 'Action',
          formatter: function(value, row, index) {
            return "" +
                "<a href='/people/"+value+"' class='btn btn-info' role='button'>Show</a> " +
                "<a href='/people/"+value+"/edit' class='btn btn-info' role='button'>Edit</a> " +
                "<a data-confirm='Are you sure?' rel='nofollow' data-method='delete' href='/people/"+value+"' class='btn btn-info' role='button'>Destroy</a>"
          }
        }
      ]
    });

  });
</script>



<div class="table-responsive">

  <table id="people_table" class="table table-striped table-bordered"></table>
</div>
